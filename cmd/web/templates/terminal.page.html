{{template "base" .}} {{define "title"}} Virtual Termail {{end}} {{define
"content"}}
<h2 class="text-center mt-3">Virtual Termainal</h2>
<hr />
<form
    action="/payment-successed"
    method="post"
    name="charge_form"
    id="charge_form"
    class="d-block needs-validation charge-form"
    autocomplete="off"
    novalidate
>
    <div class="mb-3">
        <label for="amount" class="form-label">Amount</label>
        <input
            type="text"
            class="form-control"
            id="amount"
            name="amount"
            autocomplete="amount-new"
        />
    </div>
    <div class="mb-3">
        <label for="cardholder-name" class="form-label">Cardholder Name</label>
        <input
            type="text"
            class="form-control"
            id="cardholder-name"
            name="cardholder_name"
            autocomplete="cardholder-name-new"
        />
    </div>
    <div class="mb-3">
        <label for="email" class="form-label">email</label>
        <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            autocomplete="email-new"
        />
    </div>
    <div class="mb-3">
        <label for="card-element" class="form-label">Credit Card</label>
        <div class="form-control" id="card-element"></div>
        <div
            class="alert-danger text-center"
            id="card-errors"
            role="alert"
        ></div>
        <div
            class="alert-success text-center"
            id="card-success"
            role="alert"
        ></div>
    </div>
    <hr />

    <a
        id="pay-button"
        href="javascript:void(0)"
        class="btn btn-primary"
        onclick="val()"
        >Charge Card</a
    >
</form>

{{end}} {{define "js"}}
<script src="https://js.stripe.com/v3/"></script>
<script>
    let card;
    let stripe;
    stripe = Stripe(
        "pk_test_51S4i8sQQRyZEafz8oiLhjUW4bjPSPMDlsQEY2NJlKGcfODKabxyjBullglSlqM4eHC5pDfO30LXzqaV2lf9mTQPO00ReLxHh6F",
    );
    function val() {}

    (function () {
        // Create Stripe & Elements
        const elements = stripe.elements();
        const style = {
            base: {
                fontSize: "16px",
                lineHeight: "24px",
            },
        };
        // Create Card Entry
        card = elements.create("card", {
            style: style,
            hidePostalCode: true,
        });
        card.mount("#card-element");

        // check for input errors
        card.addEventListener("change", function (event) {
            var displayError = document.getElementById("card-errors");
            if (event.error) {
                displayError.classList.remove("d-none");
                displayError.textContent = event.error.message;
            } else {
                displayError.classList.add("d-none");
                displayError.textContent = "";
            }
        });
    })();
</script>
{{end}}
